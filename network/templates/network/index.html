{% extends "network/layout.html" %}

{% block body %}
    <div id="form-view">
        {% if user.is_authenticated %}
        <form id="new-post-form" class="my-3" method="POST" action="{% url 'index' %}">
            {% csrf_token %}
            <i class="fa fa-plus-square-o" aria-hidden="true"></i>
            {{ new_post_form }}
            <input name="new_post" class="post-btn btn btn-info mt-2" type="submit" value="Post">
        </form>
        {% endif %}
    </div>
    

    <div id="profile-view" class="border rounded px-4 py-3 my-2" style="display: none;">
    </div>
    

    <div id="update-profile-view" style="display: none;">
        <form class="form-group mb-0" action="{% url 'index' %}" method="POST" enctype="multipart/form-data" autocomplete="off">
            {% csrf_token %}
            
            {% for field in update_user_form %}
            <div class="pt-3 pt-sm-0 pb-2">
                <label for="{{ field.auto_id }}">{{ field.label }}:</label>
                {{ field }}
            </div>
            {% endfor %}
       
            {{ update_profile_form }}
            <div class="mt-3">
                <input name="update_profile" class="update-profile-btn btn btn-info btn-sm mr-1" type="submit" value="Update">
                <a class="cancel-update-profile-btn btn btn-secondary btn-sm">Cancel</a>
            </div>   
        </form>
    </div>
    

    <div id="posts-view">
    </div>

    <div class="modal fade" id="deleteModal" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="deleteModalTitle">Are you sure you want to delete?</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
                Deleted post cannot be recovered
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
              <button type="button" class="confirm-delete-btn btn btn-danger" data-dismiss="modal">Delete</button>
            </div>
          </div>
        </div>
      </div>
      
{% endblock %}